好的，这是关于“8.1 总线的基本概念”的学习笔记：

## 8.1 总线的基本概念

计算机系统由 CPU、存储器和 I/O 模块等功能部件组成，这些部件之间必须互连以交换信息（如指令、数据、中断向量等）。计算机所有功能的实现，归根结底是各种信息在计算机内部的各部件之间进行交换的过程。

早期的互连方式：
*   **分散连接**：相互通信的部件之间都有单独的连线。
    *   **缺点**：
        *   内部连线非常复杂，成本高（尤其当一个部件需与所有其他部件通信时）。
        *   某一时刻只能与其他部件中的一个交换信息，影响系统工作效率。
        *   随着 I/O 设备种类和数量增多，无法满足随时增减设备的需要。

由此出现了**总线连接方式**。

**总线定义**：连接两个或多个功能部件的一组共享的信息传输线。
*   **主要特征**：多个部件共享传输介质。
*   **信号传播**：一个部件发出的信号可以被连接到总线上的其他所有部件所接收。
*   **优点**：灵活（新部件易于添加，部件可在不同系统间互换）、成本低（多部件共享连线，性价比高）。
*   **主要缺点**：可能产生通信瓶颈。
*   **现代应用**：现代计算机普遍使用总线互连结构。

### 8.1.1 总线的特性和分类

总线作为共享的传输介质，必须规定一些基本特性。

**(1) 物理特性**
指总线在物理连接上的特性，包括：
*   **连线类型**：
    *   **电缆式总线**：通常采用扁平电缆连接电路板。
    *   **主板式总线**：在印刷电路板或卡上刻蚀出平行的金属线，通过一组连接点（插槽）提供连接。例如：主板上的前端总线、存储器总线。
    *   **底板式总线 (Backplane Bus)**：通常在机箱中设置插槽板，其他功能模块做成卡，插入槽内连接。例如：PCI 总线、AGP 总线。
*   **连线数量**：
    *   **串行总线**：数据逐位传输。
    *   **并行总线**：多位数据同时传输，按数据线宽度分为 8 位、16 位、32 位、64 位总线等。总线宽度影响成本、可靠性和数据传输率。
*   **接插件的几何尺寸和形状**。
*   **引脚线的排列等**。

**(2) 电气特性**
指总线的每一条信号线的信号传递方向、信号的有效电平范围等特性。
*   **信号传递方向**：
    *   **地址线**：一般为输出信号（由 CPU 发出）。
    *   **数据线**：为双向信号。
    *   **控制线**：每根都是单向的，有的为输出信号，有的为输入信号。
*   **电平表示方式**：
    *   **单端方式**：用一条信号线和一条公共接地线传递信号。一般高电平表示逻辑“1”，低电平表示逻辑“0”。
    *   **差分方式**：采用一条信号线和一个参考电压比较来互补传输信号。一般采用负逻辑，即高电平表示逻辑“0”，低电平表示逻辑“1”。
        *   **例如**：串行总线接口标准 RS-232C，低电平低于 -3V (逻辑“1”)，高电平高于 +3V (逻辑“0”)。

**(3) 功能特性**
指总线中每根传输线的功能。
*   **地址线**：用来传输地址信息。
*   **数据线**：用来传输数据信息。
*   **控制线**：用来发出控制信息，不同的控制线其功能不同。

**(4) 时间特性**
指总线中任一根传输线在什么时间内有效以及每根线产生的信号之间的时序关系。
*   一般可用**信号时序图**来说明。

**总线的分类 (根据所连接部件的不同)**
计算机系统中有多种总线，它们在各个层次上提供部件之间的连接和信息交换通路。

*   **(1) 内部总线 (片内总线)**
    *   指芯片内部连接各元件的总线。
    *   例如：CPU 芯片内部在各个寄存器、ALU、指令部件等各元件之间互连的总线。

*   **(2) 系统总线**
    *   指连接 CPU、存储器和各种 I/O 模块等主要部件的总线。
    *   通常制作在插件板卡上，一般是主板式或底板式总线。
    *   **板级总线/处理器-主存总线**：主要连接主机系统印刷电路板中的 CPU 和主存等部件。
        *   有的系统将处理器总线和存储器总线分开，中间通过桥接器连接。CPU 芯片通过 CPU 插座插在处理器总线上，内存条通过内存条插座插在存储器总线上。
    *   **I/O 总线**：底板式总线通常用于将系统中的各个 I/O 功能模块连接到主机。例如：PCI 总线、AGP 总线、PCI-Express 总线等。

*   **(3) 通信总线 (外部总线)**
    *   用于主机和 I/O 设备之间或计算机系统之间的通信。
    *   因涉及设备类型、距离远近、速度快慢和工作方式等差异，种类很多。