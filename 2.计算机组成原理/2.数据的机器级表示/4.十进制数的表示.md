
人们日常使用和熟悉的是十进制数。在使用计算机处理数据时，计算机外部（如键盘输入、屏幕显示或打印输出）看到的数据基本上是十进制形式。因此，有时需要计算机内部能够表示和处理十进制数据，以方便直接进行十进制数的输入输出或直接用十进制数进行计算。
在计算机内部，可以采用以下两种主要方式表示十进制数：
1.  **用数字 0~9 对应的 ASCII 码字符来表示十进制数。**
2.  **用二进制编码的十进制数 (Binary Coded Decimal, BCD) 来表示十进制数。**
### 2.4.1 用 A SCII 码字符表示
1.  **目的**：方便十进制数的输入输出（如打印或显示）。
2.  **表示方法**：将十进制数看作字符串，直接用每个十进制数字（0~9）对应的 ASCII 码来表示。
    *   数字 '0' ~ '9' 的 ASCII 码分别为 30H ~ 39H。
    *   在这种表示方式下，1 位十进制数字对应 8 位二进制数 (即一个字节)。
3.  **存储方式**：一个十进制数在计算机内部通常需要占用多个连续的字节。在存取时，需要说明该十进制数在内存的起始地址和字节个数。
4.  **数符表示方式**：
    *   ***1. 前分隔数字串 (Unpacked Decimal with Leading Sign)***：
        *   **方法**：将符号位单独用一个字节来表示，位于数字串之前。
        *   **正号**：用字符 '+' 的 ASCII 码 (2BH) 表示。
        *   **负号**：用字符 '-' 的 ASCII 码 (2DH) 表示。
        *   **示例**：
            *   十进制数 `+236` 表示为：`2BH 32H 33H 36H` (00101011 00110010 00110011 00110110B)，占用 4 个字节。
            *   十进制数 `-2369` 表示为：`2DH 32H 33H 36H 39H` (00101101 00110010 00110011 00110110 00111001B)，占用 5 个字节。
    *   ***2. 后嵌入数字串 (Packed Decimal with Embedded Sign - Zoned Decimal)***：
        *   **方法**：符号位不单独占用一个字节，而是嵌入到最低一位数字的 ASCII 码的高 4 位 (zone portion) 中。
        *   **正数**：最低一位数字的 ASCII 码不变 (高 4 位仍为 0011B，即 '3')。
        *   **负数**：最低一位数字的 ASCII 码的高 4 位由原来的 0011B 变为 0111B (即 '7')。
        *   **示例**：
            *   十进制数 `+236` 表示为：`32H 33H 36H` (00110010 00110011 00110110B)，占用 3 个字节。
            *   十进制数 `-2369` 表示为：`32H 33H 36H 79H` (00110010 00110011 00110110 01111001B)，占用 4 个字节。
        *   **优点**：比前分隔数字串方式少占用一个字节，节省存储空间。
        *   **缺点**：对于负数，最低一位数字不是标准的 ASCII 码，在显示或打印前必须先转换成可打印的 ASCII 字符编码。
5.  **运算不便性**：用 ASCII 码字符串方式表示十进制数时，由于表示形式中含有非数值信息（ASCII 码的高 4 位），对十进制数的运算很不方便。如果要进行计算，通常需要先将其转换为二进制数或 BCD 码。
### 2.4.2 用 BCD 码表示
1.  **背景**：在某些情况下（例如数据输入输出量很大的商用领域），为了减少大量的十进制数和二进制数之间的转换，可以采用直接对十进制数进行运算的方式。这种十进制数用二进制编码的形式（BCD 码）表示，并通过专门的十进制数运算指令进行处理。
2.  **BCD 码基本原理**：
    *   每位十进制数的取值是 0~9 (共 10 个数)。
    *   因此，每一个十进制数位至少需要 4 位二进制位来表示。
    *   4 位二进制位可以组合成 16 种状态，去掉表示 0~9 的 10 种状态后，还有 6 种冗余状态。
    *   从 16 种状态中选取 10 种状态来表示十进制数位 0~9 的方法有很多，可以产生多种 BCD 码。
3.  **BCD 码分类**：
    *   ***1. 有权 BCD 码 (Weighted BCD Codes)***：
        *   **定义**：表示每个十进制数位的 4 个二进制数位（称为基 2 码）都有一个确定的权。
        *   **常用有权 BCD 码 (表 2.6)**：
	        * ![[image-117.png]]
            *   **8421 码 (NBCD - Natural BCD)**：最常用的一种。选取 4 位二进制数按计数顺序的前 10 个代码 (0000~1001) 与十进制数字 0~9 对应。每位的权从左到右分别为 8、4、2、1。也称自然 BCD 码。
            *   **2421 码**：各位的权从左到右分别为 2、4、2、1。
            *   **5211 码**：各位的权从左到右分别为 5、2、1、1。
            *   **84-2-1 码**：各位的权从左到右分别为 8、4、-2、-1。
    *   ***2. 无权 BCD 码 (Non-weighted BCD Codes)***：
        *   **定义**：表示每个十进制数位的 4 个基 2 码没有确定的权。
        *   **常用无权 BCD 码 (表 2.7)**：
	        * ![[image-118.png]]
            *   **余 3 码 (Excess-3 Code)**：在 8421 码的基础上，每个代码都加上 0011B 而形成。
                *   **主要优点**：执行十进制数加法时，能正确产生进位，并且对 9 的补数运算（用于减法）很方便。
            *   **格雷码 (Gray Code)**：又称循环码。
                *   **编码规则**：任何两个相邻的代码只有一个二进制位的状态不同，其余三个二进制位必须相同。
                *   **优点**：从一个编码变到下一个编码时，只有一位发生变化，变码速度最快，且有利于得到更好的译码波形，在 D/A 或 A/D 转换电路中得到很好的运行结果。
4.  **组合 BCD 码表示十进制数**：
    *   一个十进制数用多个对应的 BCD 码组合表示。
    *   **存储方式**：
        *   **非压缩 BCD 码 (Unpacked BCD)**：每个 BCD 码（4 位）占用一个字节，高 4 位通常为 0000B 或 0011B (ASCII 兼容)。
        *   **压缩 BCD 码 (Packed BCD)**：一个字节存放两位 BCD 码，高 4 位存放一个 BCD 码，低 4 位存放另一个 BCD 码。这种方式更节省空间。
    *   **数符表示**：
        *   可以用 1 位二进制表示：1 表示负数，0 表示正数。
        *   也可以用 4 位二进制表示，并放在数字串的最后。通常用 1100B (C) 表示正号，用 1101B (D) 表示负号（这是 IBM 大型机常用的方式）。
        *   **示例 (Pentium 处理器)**：十进制数占 80 位，第一个字节的最高位为符号位，后面的 9 个字节（72 位）可表示 18 位十进制数（压缩 BCD 码）。
5.  **BCD 码的代价**：使用 BCD 码会耗费较多的设备量。例如，处理 1000 个信息，需要 3 位十进制数，因而至少需要 (3+1)×4 = 16 位的设备量（压缩 BCD 且带 4 位符号）。而对于纯二进制系统，因为 2<sup>10</sup> = 1024 > 1000，所以只需 10 位的设备量就足够了。
6.  **计算机内部主流**：因此，在计算机内部，通常情况下都用二进制数进行数据的表示和运算。

