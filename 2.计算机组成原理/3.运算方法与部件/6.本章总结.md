好的，这是关于“3.7 本章小结”的学习笔记：

## 3.7 本章小结

本章主要介绍了计算机中涉及到的各种基本运算的算法及其实现部件，重点围绕 **定点数运算** 和 **浮点数运算** 展开。这些运算各自通常由不同的运算部件实现，但它们的核心都离不开具有基本算术运算和逻辑运算功能的 **ALU (算术逻辑单元)**。ALU 中的核心电路又是 **加法器**，因此，快速加法器的实现对于提升整体运算性能至关重要。

本章内容具体总结如下：

**1. 加法器 (Adder):**
   *   是运算部件的核心，其速度直接影响计算机的运算速度。
   *   采用并行进位方式能显著加快加法器速度。
   *   **行波进位加法器 (Ripple Carry Adder, CRA):**
        *   通过将多个一位全加器串行连接构成。
        *   各进位信号串行传递，速度较慢，延迟与位数成正比。
   *   **进位选择加法器 (Carry Select Adder):**
        *   通过并行计算高位部分在进位为0和1两种情况下的和，然后根据低位实际进位选择正确结果。
        *   实现了高、低两部分的并行执行，可使运算时间减半，但硬件开销较大。
   *   **先行(超前)进位加法器 (Carry Lookahead Adder, CLA):**
        *   通过引入“进位生成 (G)”和“进位传递 (P)”函数，使得每一位的进位信号可以直接由原始输入和低位总进位 `C_0` 产生，而无需等待中间各位的逐级进位。
        *   各进位信号独立、并行产生，速度快。
        *   可以采用单级、两级或更多级先行进位方式来构建多位加法器，以平衡速度和硬件复杂度。

**2. 算术逻辑单元 (ALU - Arithmetic and Logic Unit):**
   *   在先行进位加法器的基础上增加其他逻辑电路，实现基本的算术运算（如加、减）和逻辑运算（如与、或、非、异或）的部件。
   *   通常包含：两个操作数输入端、一个低位进位输入端、一个操作控制输入端、一个结果输出端、一个高位进位输出端以及各种状态标志（如零标志、溢出标志）输出端。

**3. 定点数运算:**
   *   通常由专门的定点运算器实现，其核心部件是带有快速加法器的ALU。
   *   **移位运算:**
        *   **逻辑移位:** 对无符号数进行，移出的空位补0。
        *   **算术移位:** 对带符号整数（通常为补码）进行，左移时低位补0，右移时高位补符号位；移位前后符号位应保持不变，否则可能发生溢出（特指左移）。
        *   **循环移位:** 移出的位从另一端移入。
   *   **扩展运算:**
        *   **零扩展:** 对无符号整数进行，在高位补0。
        *   **符号扩展:** 对补码表示的带符号整数进行，在高位复制其原符号位。
   *   **加减运算:**
        *   **补码加减:** 是整数运算的基础。符号位与数值位一同参与运算，减法通过加负数的补码实现 (`[X-Y]_补 = [X]_补 + [-Y]_补`)。需要进行溢出判断（如双进位判别法或操作数与结果符号判别法）。
        *   **原码加减:** 主要用于浮点数尾数的加减。符号位和数值位分开处理。同号相加，异号相减（大数减小数）。减法通常也通过加补码实现。
        *   **加减法器:** 在基本加法器基础上增加进位/加减控制逻辑、求补电路和溢出判断电路等构成。
   *   **乘法运算 (基于加法和移位实现):**
        *   **补码乘法 (整数):** 符号位和数值位一同参与运算。
            *   **Booth算法 (一位):** 根据乘数当前位和前一位的值，决定对部分积进行加被乘数、加被乘数的相反数或不操作，然后算术右移。
            *   **改进Booth算法 (MBA，两位或更高位):** 一次处理乘数的两位或多位，减少迭代次数，提高速度。
        *   **原码乘法 (主要用于浮点数尾数):** 符号位单独异或处理，数值部分按无符号数乘法进行。
        *   **快速乘法器:**
            *   **阵列乘法器 (基于CSA):** 采用进位保留加法器阵列，并行产生并累加部分积，速度较快。
            *   **华莱士树 (Wallace Tree, WT) 结构:** 进一步优化部分积的相加过程，减少累加级数。
   *   **除法运算 (基于减法和移位实现):**
        *   **补码除法 (整数):** 符号位和数值位一同参与运算。有恢复余数法和不恢复余数法（加减交替法）两种。
        *   **原码除法 (主要用于浮点数尾数):** 符号位单独异或处理，数值部分按无符号数除法进行。有恢复余数法和不恢复余数法两种。
        *   **阵列除法器:** 采用可控加减单元 (CAS) 阵列实现，类似于阵列乘法器。

**4. 浮点数运算:**
   *   通常由专门的浮点运算器 (FPU) 实现。阶码和尾数的运算是分开的。
   *   **加减运算步骤:**
        1.  **对阶:** 小阶向大阶看齐，阶小的尾数右移，右移时保留附加位（保护位、舍入位、粘滞位）。
        2.  **尾数相加减:** 按定点原码小数加减规则进行，隐藏位和附加位参与运算。
        3.  **规格化处理:** 对结果进行左规或右规，调整阶码，使其符合规格化表示。
        4.  **舍入:** 根据舍入规则（如就近舍入、朝零舍入等）对尾数进行处理。
        5.  **溢出判断:** 检查阶码是否上溢或下溢，并进行相应处理（如置为无穷大或零）。
   *   **乘除运算步骤:**
        1.  **尾数相乘/除:** 按定点原码小数乘/除规则进行。
        2.  **阶码相加/减:** 按移码加/减规则进行。
        3.  **规格化处理:** 乘法结果可能需要右规，除法结果可能需要左规。
        4.  **舍入:** 对尾数进行处理。
        5.  **溢出判断:** 检查阶码是否上溢或下溢。

本章内容是理解计算机如何执行基本算术和逻辑运算的基础，为后续学习指令系统、CPU设计以及存储系统等内容奠定了重要的理论和实践依据。