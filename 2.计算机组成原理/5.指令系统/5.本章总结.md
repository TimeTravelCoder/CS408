好的，这是关于 "5.5 本章小结" 的学习笔记：

## 5.5 本章小结

本章通过高级语言与汇编语言程序之间的对应关系，以 MIPS 处理器的指令系统为例介绍了一个指令系统必须具备的基本功能，并就指令系统设计方面的有关内容进行了介绍。包括指令的格式、操作数类型、数据在存储器中的存放方式、寻址方式、操作类型、硬件对过程调用的支持、CISC 和 RISC 技术的比较、指令系统举例和分析设计等，具体总结如下。

*   **指令格式**
    *   **定长指令字、定长操作码：** 优点是方便指令地址计算、取指令和译码过程。
    *   **变长指令字、变长操作码：** 优点是指令表示紧凑，程序占用的存储空间较少。

*   **操作类型** (指令按功能分类)
    *   **数据传送类：** 用于在寄存器、主存单元、栈顶等不同位置之间进行数据传送。
    *   **运算类：** 执行各种算术运算（如加、减、乘、除）和逻辑运算（如与、或、非、异或）。
    *   **字符串处理类：** 对字符串进行操作，如查找、扫描、比较、转换等。
    *   **I/O 操作类：** 用于 CPU 与外部设备接口之间进行数据、状态或命令信息的交换。
    *   **程序流控制类：** 控制程序执行顺序，如条件转移、无条件转移、过程调用、过程返回等。
    *   **系统控制类：** 用于控制处理器和系统状态，如启动、停止、自愿访管 (系统调用)、自陷 (异常处理)、空操作等。

*   **操作数类型** (以 Pentium 处理器数据类型为例，展示了常见的数据类型)
    *   **序数或指针：** 通常用 8 位、16 位、32 位无符号整数表示。
    *   **整数：** 常见的有 16 位、32 位、64 位三种补码表示的带符号整数。
    *   **实数 (浮点数)：** 广泛采用 IEEE 754 标准的浮点数格式。
    *   **十进制数：** 例如用 18 位十进制数，并采用 BCD 码 (如 8421 码) 表示。
    *   **字符串：** 以字节为单位的字符序列，通常使用 ASCII 码或 Unicode 编码表示。
    *   **操作数宽度有多种：** 指令系统需要支持不同宽度的数据操作，以对应高级语言中的各种简单数据类型长度，例如字节 (8位)、半字 (16位)、字 (32位)、双字 (64位) 等。

*   **寻址方式** (指令如何定位操作数)
    *   **立即寻址：** 操作数直接包含在指令的地址码字段中。
    *   **直接寻址：** 指令的地址码字段直接给出操作数在内存中的单元地址。
    *   **间接寻址：** 指令的地址码字段给出的是存放操作数内存地址的内存单元的地址 (即地址的地址)。
    *   **寄存器寻址：** 指令的地址码字段给出操作数所在的 CPU 寄存器的编号。
    *   **寄存器间接寻址：** 指令的地址码字段给出存放操作数内存地址的 CPU 寄存器的编号。
    *   **堆栈寻址：** 操作数约定存放在堆栈中，指令隐含地从栈顶获取操作数或将结果存入栈顶。
    *   **偏移寻址：** 通过将寄存器的内容与指令中给出的一个形式地址 (偏移量) 相加来得到操作数在内存中的有效地址。主要包括以下三种：
        *   **变址寻址：** 指令的地址码字段提供一个基准地址 (形式地址)，并隐式或显式地指定一个变址寄存器。变址寄存器的内容 (变址值) 与形式地址相加，得到操作数的有效地址。通常用于循环中对数组元素的顺序访问。
        *   **相对寻址：** 指令中的形式地址是一个位移量 D，基准地址由程序计数器 (PC) 提供。有效地址 EA = (PC) + D。通常用于条件转移或无条件转移指令中确定转移目标地址，或用于访问与当前指令位置相对固定的公共子程序中的操作数。
        *   **基址寻址：** 指令中的形式地址作为一个位移量，与一个基址寄存器的内容相加，得到有效地址。基址寄存器可以在指令中显式指定，也可以是一个专门的基址寄存器。常用于程序重定位。

*   **条件码 (状态标志) 的生成：** 许多指令执行后会影响处理器中的状态标志位。这些状态标志反映了运算结果的特性（如是否为零、是否溢出等）。条件转移指令根据这些状态标志来决定程序的执行流程，从而实现高级语言中的选择结构和循环结构。常见的状态标志有：CF (进位/借位标志)、ZF (零标志)、OF (溢出标志)、SF (符号标志) 等。

*   **指令系统风格**
    *   **按地址码指定操作数位置的风格来分：**
        *   **累加器型：** 大部分指令的一个操作数隐含在累加器中，运算结果也存回累加器。指令长度短，但程序中需要较多数据在累加器和内存间的传送，导致指令条数多，且需要频繁访问存储器。
        *   **堆栈型：** 操作数和运算结果都隐含在堆栈顶部。指令长度短，但需要频繁访问堆栈，且对指令执行的先后顺序有严格要求，不够灵活。
        *   **通用寄存器型：** 操作数可以明显地指定存放在多个通用寄存器中。通过使用大量通用寄存器，既可以缩短指令长度 (相对于内存地址)，又可以显著减少访问存储器的次数，因此现代计算机大多采用这种指令设计风格。
    *   **按指令系统的复杂度来分：**
        *   **CISC (Complex Instruction Set Computer - 复杂指令系统计算机)：**
            *   特点：指令字长可变，常采用扩展操作码编码，指令格式多样，指令数量庞大，支持多种复杂的寻址方式。
            *   结果：指令的译码和执行过程复杂，实现上大多采用微程序控制器。
        *   **RISC (Reduced Instruction Set Computer - 精简指令系统计算机)：**
            *   特点：指令字长固定，操作码长度固定，指令格式种类少且规整，指令系统中仅包含一些使用频率高、功能简单的常用指令，因此指令数量较少，寻址方式也较少且简单。
            *   结果：指令的译码和执行过程简单，通常采用硬连线控制器实现。RISC 处理器通常配置大量的通用寄存器，以减少对内存的访问。常采用 Load/Store 指令设计风格 (即只有加载和存储指令能访问内存，运算指令的操作数均来自寄存器)，使得大部分指令的执行步骤一致、规整，非常适合采用流水线技术来提高执行效率。